<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Web Streams</title>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section><h1>Web Streams</h1></section>
        <section>
          <section>
            <h1>What's a stream?</h1>
          </section>
          <section>
            <h2>Kinds of values</h2>
            <table>
              <thead>
                <tr>
                  <th></th>
                  <th>Single value</th>
                  <th>Multiple values</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th>Synchronous</th>
                  <td><code class="language-ts">T</code></td>
                  <td>
                    <code class="language-ts" data-noescape
                      >Iterator&lt;T&gt;</code
                    >
                  </td>
                </tr>
                <tr>
                  <th>Asynchronous</th>
                  <td>
                    <code class="language-ts" data-noescape
                      >Promise&lt;T&gt;</code
                    >
                  </td>
                  <td>
                    <code class="language-ts" data-noescape
                      >AsyncIterator&lt;T&gt;</code
                    >
                  </td>
                </tr>
              </tbody>
            </table>
          </section>
          <section data-auto-animate>
            <h2 data-id="title">Single value / synchronous</h2>
            <pre
              data-id="code"
            ><code class="language-js" data-trim data-line-numbers data-noescape>
              const value = getThing();
              doSomething(value);
            </code></pre>
            <p>Examples:</p>
            <ul>
              <li>
                Your name as a
                <code class="language-ts">string</code>
              </li>
              <li>
                A random
                <code class="language-ts">number</code> from
                <code class="language-js">Math.random()</code>
              </li>
            </ul>
          </section>
          <section data-auto-animate>
            <h2 data-id="title">Single value / asynchronous</h2>
            <pre
              data-id="code"
            ><code class="language-js" data-trim data-line-numbers data-noescape>
              const value = await getThing();
              doSomething(value);
            </code></pre>
            <p>Examples:</p>
            <ul>
              <li>
                The response text from a
                <code class="language-js">fetch()</code>ed
                <code class="language-js">Response.text()</code>
                as a
                <code class="language-ts" data-noescape
                  >Promise&lt;string&gt;</code
                >
              </li>
            </ul>
          </section>
          <section data-auto-animate data-auto-animate-restart>
            <h2 data-id="title">Multiple values / synchronous</h2>
            <pre
              data-id="code"
            ><code class="language-js" data-trim data-line-numbers data-noescape>
              for (const value of getThings()) {
                doSomething(value);
              }
            </code></pre>
            <p>Examples:</p>
            <ul>
              <li>
                Your favorite colors as an
                <code class="language-ts" data-noescape
                  >Array&lt;string&gt;</code
                >
              </li>
              <li>
                A
                <code class="language-ts" data-noescape
                  >NodeList&lt;HTMLElement&gt;</code
                >
                from
                <code class="language-js" data-noescape
                  >document.querySelectorAll()</code
                >
              </li>
            </ul>
          </section>
          <section data-auto-animate>
            <h2 data-id="title">Multiple values / asynchronous</h2>
            <pre
              data-id="code"
            ><code class="language-js" data-trim data-line-numbers data-noescape>
              for await (const value of getThings()) {
                doSomething(value);
              }
            </code></pre>
            <p>Examples:</p>
            <ul>
              <li>
                The messages in a group chat as a
                <code class="language-ts" data-noescape
                  >ReadableStream&lt;string&gt;</code
                >
              </li>
              <li>
                The stream of byte chunks from a
                <code class="language-js">fetch()</code>ed
                <code class="language-js">Response.body</code>
                as a
                <code class="language-ts" data-noescape
                  >ReadableStream&lt;Uint8Array&gt;</code
                >
              </li>
            </ul>
          </section>
        </section>
      </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
